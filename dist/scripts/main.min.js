angular.module("verticode",["lumx","auth0","angular-storage","angular-jwt","ui.router","main.services","main.auth","main.login","main.home"]).config(["authProvider","$stateProvider","$urlRouterProvider",function(o,n,t){n.state("main",{url:"/",template:"<ui-view></ui-view>","abstract":!0}),o.init({domain:"33m.auth0.com",clientID:"ORkiU7BYEfMQd2MvLMGmUzzXSuax84Gv"}),t.otherwise("/login")}]).run(["auth","store","$state","jwtHelper","$rootScope",function(o,n,t,e,i){o.hookEvents(),i.$on("$stateChangeStart",function(i,r){if(r.authenticate&&!o.isAuthenticated){var a=n.get("token");a?e.isTokenExpired(a)?t.go("main.login"):o.authenticate(n.get("profile"),a):t.go("main.login")}})}]),angular.module("main.services",[]).factory("",[function(){return{}}]),angular.module("main.login",[]).config(["$stateProvider",function(o){o.state("main.login",{url:"login",controller:"LoginCtrl"})}]).controller("LoginCtrl",["$scope","AuthFactory","$state",function(o,n,t){o.signin=function(){n.login().then(function(o){console.log("signing in",o),t.go("main.home")}).catch(function(o){console.log(o)})},o.signin()}]),angular.module("main.auth",[]).factory("AuthFactory",["auth","store","$q",function(o,n,t){var e=function(){var e=t.defer();return o.signin({},function(o,t,i,r,a){console.log(o,"profile"),console.log(t,"token"),console.log(a,"refreshToken"),n.set("profile",o),n.set("token",t),n.set("refreshToken",a),e.resolve(o)},function(o){e.reject(o)}),e.promise};return{login:e}}]),angular.module("main.home",[]).config(["$stateProvider",function(o){o.state("main.home",{url:"home",templateUrl:"main/home/home.tpl.html",controller:"HomeCtrl",authenticate:!0})}]).controller("HomeCtrl",["$scope",function(){}]);